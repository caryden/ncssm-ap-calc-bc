<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 63: Power Series and Error Bounds | AP Calculus BC</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --theme-color: #4f46e5;
            --theme-color-light: #6366f1;
        }

        /* BC-only badge styling */
        .bc-badge {
            display: inline-block;
            background: linear-gradient(135deg, #d4a028, #f59e0b);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 0.75rem;
            vertical-align: middle;
        }

        /* Theorem box styling */
        .theorem-box {
            background: var(--bg-secondary);
            border: 2px solid #d4a028;
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem auto;
            max-width: 800px;
        }

        .theorem-box h3 {
            color: #d4a028;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .theorem-box .math-display {
            font-size: 1.75rem;
            margin: 1rem 0;
        }

        /* Example styling */
        .example-box {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 1rem auto;
            max-width: 850px;
            text-align: left;
        }

        .example-box h3 {
            color: var(--theme-color);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .example-box .step {
            font-size: 1.35rem;
            margin: 0.75rem 0;
            padding-left: 1rem;
        }

        .example-box .result {
            font-size: 1.5rem;
            color: var(--theme-color);
            font-weight: 600;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--bg-tertiary);
        }

        /* Table styling */
        .comparison-table {
            width: 100%;
            max-width: 800px;
            margin: 1.5rem auto;
            border-collapse: collapse;
            font-size: 1.25rem;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem 1.5rem;
            text-align: left;
            border-bottom: 1px solid var(--bg-tertiary);
        }

        .comparison-table th {
            background: var(--bg-secondary);
            font-family: var(--font-display);
            font-weight: 600;
            color: var(--theme-color);
        }

        .comparison-table td:first-child {
            font-weight: 600;
        }

        /* Warning box */
        .warning-box {
            background: rgba(234, 88, 12, 0.15);
            border-left: 4px solid #ea580c;
            padding: 1rem 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            font-size: 1.35rem;
        }

        /* Visualization containers */
        .visualization {
            width: 100%;
            max-width: 800px;
            margin: 1rem auto;
            min-height: 300px;
        }

        /* Practice problem styling */
        .practice-problems {
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
        }

        .practice-problems ol {
            list-style-position: inside;
            padding: 0;
        }

        .practice-problems li {
            font-size: 1.35rem;
            padding: 0.75rem 0;
        }

        /* Solutions styling */
        .solutions-list {
            text-align: left;
            max-width: 850px;
            margin: 0 auto;
        }

        .solutions-list ol {
            list-style-position: inside;
            padding: 0;
        }

        .solutions-list li {
            font-size: 1.25rem;
            padding: 0.75rem 0;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Slide 0: Title -->
        <div class="slide slide-title" data-slide="0" data-section="Opening" data-title="Power Series and Error Bounds">
            <div class="slide-content">
                <div class="unit-badge">Unit 10: Infinite Sequences and Series</div>
                <h1>Power Series and Error Bounds <span class="bc-badge">BC Only</span></h1>
                <p class="subtitle">Where Series Converge and How Accurate They Are</p>
                <p class="meta">Class 63 | CED 10.10, 10.12, 10.13 | NCSSM</p>
            </div>
        </div>

        <!-- Slide 1: Opening Questions -->
        <div class="slide slide-list" data-slide="1" data-section="Opening" data-title="Two Key Questions">
            <div class="slide-content">
                <h2>Two Key Questions</h2>
                <ul>
                    <li style="font-size: 1.75rem; padding: 1rem 0;">For what values of \(x\) does a series converge?</li>
                    <li style="font-size: 1.75rem; padding: 1rem 0;">If we use a partial sum, how accurate is it?</li>
                </ul>
                <p class="caption" style="margin-top: 2rem; font-size: 1.5rem; color: var(--theme-color);">Today we answer both questions precisely</p>
            </div>
        </div>

        <!-- Slide 2: Power Series Definition -->
        <div class="slide slide-two-part" data-slide="2" data-section="Power Series" data-title="Power Series Definition">
            <div class="slide-content">
                <p class="primary">A <strong>power series</strong> centered at \(a\) has the form:</p>
                <div class="math-display" style="font-size: 1.75rem; margin: 2rem 0;">
                    $$\sum_{n=0}^{\infty} c_n(x-a)^n = c_0 + c_1(x-a) + c_2(x-a)^2 + \cdots$$
                </div>
                <p class="secondary">The coefficients \(c_n\) are constants; \(x\) is the variable</p>
                <p class="caption" style="margin-top: 1.5rem;">Taylor series are power series with \(c_n = f^{(n)}(a)/n!\)</p>
            </div>
        </div>

        <!-- Slide 3: Three Convergence Possibilities -->
        <div class="slide slide-list" data-slide="3" data-section="Power Series" data-title="Three Possibilities">
            <div class="slide-content">
                <h2>Three Possibilities</h2>
                <ul>
                    <li>Converges <strong>only at \(x = a\)</strong> (radius \(R = 0\))</li>
                    <li>Converges <strong>for all \(x\)</strong> (radius \(R = \infty\))</li>
                    <li>Converges for \(|x-a| < R\), diverges for \(|x-a| > R\)</li>
                </ul>
                <p class="caption" style="margin-top: 2rem;">The number \(R\) is called the <strong>radius of convergence</strong></p>
            </div>
        </div>

        <!-- Slide 4: Visualizing Convergence -->
        <div class="slide slide-visual" data-slide="4" data-section="Power Series" data-title="Interval of Convergence">
            <div class="slide-content">
                <h2>Interval of Convergence</h2>
                <div id="interval-viz" class="visualization"></div>
                <p class="caption">Inside: converges. Outside: diverges. Endpoints: must check separately</p>
            </div>
        </div>

        <!-- Slide 5: Finding R with Ratio Test -->
        <div class="slide slide-visual" data-slide="5" data-section="Power Series" data-title="Finding R Using Ratio Test">
            <div class="slide-content">
                <h2>Finding R Using the Ratio Test</h2>
                <div class="example-box" style="text-align: center;">
                    <p style="font-size: 1.5rem; margin-bottom: 1rem;">For \(\sum c_n(x-a)^n\), compute:</p>
                    <div class="math-display" style="font-size: 1.5rem; margin: 1.5rem 0;">
                        $$L = \lim_{n \to \infty} \left|\frac{c_{n+1}(x-a)^{n+1}}{c_n(x-a)^n}\right| = |x-a| \cdot \lim_{n \to \infty}\left|\frac{c_{n+1}}{c_n}\right|$$
                    </div>
                    <p style="font-size: 1.35rem; margin-top: 1.5rem;">Converges when \(L < 1\), i.e., \(|x-a| < R\) where</p>
                    <div class="math-display" style="font-size: 1.75rem; color: var(--theme-color); margin-top: 1rem;">
                        $$R = \frac{1}{\displaystyle\lim_{n \to \infty}\left|\frac{c_{n+1}}{c_n}\right|}$$
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Example 1 - R = infinity -->
        <div class="slide slide-two-part" data-slide="6" data-section="Power Series" data-title="Example: R = infinity">
            <div class="slide-content">
                <h2>Example 1: \(\displaystyle\sum \frac{x^n}{n!}\)</h2>
                <div class="example-box">
                    <div class="step">$$\left|\frac{a_{n+1}}{a_n}\right| = \frac{|x|^{n+1}/(n+1)!}{|x|^n/n!} = \frac{|x|}{n+1}$$</div>
                    <div class="step">$$L = \lim_{n \to \infty} \frac{|x|}{n+1} = 0 \text{ for any } x$$</div>
                    <div class="step">\(L < 1\) for ALL \(x\)</div>
                    <div class="result">\(R = \infty\). Series converges for all \(x\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Example 2 - R = 0 -->
        <div class="slide slide-two-part" data-slide="7" data-section="Power Series" data-title="Example: R = 0">
            <div class="slide-content">
                <h2>Example 2: \(\displaystyle\sum n! \cdot x^n\)</h2>
                <div class="example-box">
                    <div class="step">$$\left|\frac{a_{n+1}}{a_n}\right| = (n+1)|x|$$</div>
                    <div class="step">$$L = \lim_{n \to \infty} (n+1)|x| = \infty \text{ for any } x \neq 0$$</div>
                    <div class="step">\(L < 1\) only when \(x = 0\)</div>
                    <div class="result">\(R = 0\). Converges only at \(x = 0\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Example 3 - Finite R -->
        <div class="slide slide-two-part" data-slide="8" data-section="Power Series" data-title="Example: Finite R">
            <div class="slide-content">
                <h2>Example 3: \(\displaystyle\sum \frac{x^n}{n}\)</h2>
                <div class="example-box">
                    <div class="step">$$\left|\frac{a_{n+1}}{a_n}\right| = |x| \cdot \frac{n}{n+1}$$</div>
                    <div class="step">$$L = |x| \cdot 1 = |x|$$</div>
                    <div class="step">\(L < 1\) when \(|x| < 1\)</div>
                    <div class="result">\(R = 1\). Now test endpoints...</div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Endpoint Testing -->
        <div class="slide slide-visual" data-slide="9" data-section="Power Series" data-title="Endpoint Testing">
            <div class="slide-content">
                <h2>Endpoint Testing (Critical!)</h2>
                <div class="warning-box">
                    <strong>Warning:</strong> Ratio test is <strong>inconclusive</strong> at \(x = a \pm R\)
                </div>
                <div class="example-box" style="margin-top: 1.5rem;">
                    <h3>For \(\sum \frac{x^n}{n}\) with \(R = 1\):</h3>
                    <div class="step">At \(x = 1\): \(\sum \frac{1}{n}\) = harmonic series → <span style="color: #ef4444;"><strong>Diverges</strong></span></div>
                    <div class="step">At \(x = -1\): \(\sum \frac{(-1)^n}{n}\) = alt. harmonic → <span style="color: #22c55e;"><strong>Converges</strong></span></div>
                    <div class="result">Interval of Convergence: \([-1, 1)\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Interval Notation -->
        <div class="slide slide-list" data-slide="10" data-section="Power Series" data-title="Writing the Interval">
            <div class="slide-content">
                <h2>Writing the Interval of Convergence</h2>
                <ul>
                    <li><strong>Step 1:</strong> Find \(R\) using ratio test</li>
                    <li><strong>Step 2:</strong> Write interval as \((a-R, a+R)\)</li>
                    <li><strong>Step 3:</strong> Test each endpoint separately</li>
                    <li><strong>Step 4:</strong> Use brackets [ ] for convergent endpoints, parentheses ( ) for divergent</li>
                </ul>
                <p class="caption" style="margin-top: 2rem;">Example: \(\sum \frac{x^n}{n}\): \(R = 1\), interval \([-1, 1)\)</p>
            </div>
        </div>

        <!-- Slide 11: Transition to Error Bounds -->
        <div class="slide slide-statement" data-slide="11" data-section="Error Bounds" data-title="Transition to Error">
            <div class="slide-content">
                <p class="statement">Now we know <em>where</em> series converge</p>
                <p class="statement" style="font-size: 2rem; margin-top: 2rem; color: var(--theme-color);">When we truncate to a partial sum, how accurate is it?</p>
                <p class="secondary" style="margin-top: 2rem; font-size: 1.5rem; color: var(--text-secondary);">Two bounds: Alternating series bound and Lagrange bound</p>
            </div>
        </div>

        <!-- Slide 12: Alternating Series Error Bound -->
        <div class="slide slide-visual" data-slide="12" data-section="Error Bounds" data-title="Alternating Series Error Bound">
            <div class="slide-content">
                <h2>Alternating Series Error Bound</h2>
                <div class="theorem-box">
                    <h3>Theorem</h3>
                    <p style="font-size: 1.35rem;">For an alternating series \(\sum (-1)^n b_n\) satisfying AST:</p>
                    <div class="math-display" style="font-size: 2rem; margin: 1.5rem 0; color: var(--theme-color);">
                        $$|S - S_n| \leq b_{n+1}$$
                    </div>
                </div>
                <p class="caption" style="font-size: 1.5rem; margin-top: 1.5rem;">Error after \(n\) terms is at most the next term!</p>
            </div>
        </div>

        <!-- Slide 13: Why Alternating Bound Works -->
        <div class="slide slide-visual" data-slide="13" data-section="Error Bounds" data-title="Visual Justification">
            <div class="slide-content">
                <h2>Visual Justification</h2>
                <div id="alternating-viz" class="visualization"></div>
                <p class="caption">Partial sums oscillate around \(S\); each step overshoots by less than term size</p>
            </div>
        </div>

        <!-- Slide 14: Alternating Error Example -->
        <div class="slide slide-two-part" data-slide="14" data-section="Error Bounds" data-title="Example: ln(2)">
            <div class="slide-content">
                <h2>Example: Approximate \(\ln 2\)</h2>
                <div class="example-box">
                    <p style="font-size: 1.35rem; margin-bottom: 1rem;">Series: \(\displaystyle\ln 2 = 1 - \frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \cdots\)</p>
                    <p style="font-size: 1.35rem; color: var(--theme-color);">Problem: Find \(\ln 2\) within 0.01</p>
                    <div class="step">Need \(b_{n+1} = \frac{1}{n+1} < 0.01\)</div>
                    <div class="step">So \(n+1 > 100\), meaning \(n \geq 100\)</div>
                    <div class="result">Use \(S_{100}\) for error \(< 0.01\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 15: Alternating Error Example 2 -->
        <div class="slide slide-two-part" data-slide="15" data-section="Error Bounds" data-title="Example: cos(1)">
            <div class="slide-content">
                <h2>Example: Approximate \(\cos(1)\)</h2>
                <div class="example-box">
                    <p style="font-size: 1.35rem; margin-bottom: 1rem;">Series: \(\displaystyle\cos(1) = 1 - \frac{1}{2!} + \frac{1}{4!} - \frac{1}{6!} + \cdots\)</p>
                    <p style="font-size: 1.35rem; color: var(--theme-color);">Problem: Find \(\cos(1)\) within 0.0001</p>
                    <div class="step">Terms: \(1, 0.5, 0.0417, 0.00139, 0.0000248...\)</div>
                    <div class="step">\(b_5 = 1/8! \approx 0.0000248 < 0.0001\) ✓</div>
                    <div class="result">Use 5 terms (through \(1/8!\))</div>
                </div>
            </div>
        </div>

        <!-- Slide 16: Lagrange Error Bound -->
        <div class="slide slide-visual" data-slide="16" data-section="Error Bounds" data-title="Lagrange Error Bound">
            <div class="slide-content">
                <h2>Lagrange Error Bound</h2>
                <div class="theorem-box">
                    <h3>Theorem</h3>
                    <p style="font-size: 1.35rem;">For Taylor polynomial \(P_n(x)\) of \(f\) centered at \(a\):</p>
                    <div class="math-display" style="font-size: 1.75rem; margin: 1.5rem 0; color: var(--theme-color);">
                        $$|R_n(x)| = |f(x) - P_n(x)| \leq \frac{M \cdot |x-a|^{n+1}}{(n+1)!}$$
                    </div>
                    <p style="font-size: 1.25rem; color: var(--text-secondary);">where \(M = \max|f^{(n+1)}(t)|\) for \(t\) between \(a\) and \(x\)</p>
                </div>
            </div>
        </div>

        <!-- Slide 17: When to Use Lagrange -->
        <div class="slide slide-list" data-slide="17" data-section="Error Bounds" data-title="When to Use Lagrange">
            <div class="slide-content">
                <h2>When to Use Lagrange Bound</h2>
                <ul>
                    <li>Non-alternating series</li>
                    <li>When alternating bound doesn't apply</li>
                    <li>When you need guaranteed accuracy for any Taylor polynomial</li>
                </ul>
                <p class="caption" style="margin-top: 2rem; color: #ea580c;"><strong>Challenge:</strong> Must find \(M\) = max of \(|f^{(n+1)}|\) on interval</p>
            </div>
        </div>

        <!-- Slide 18: Lagrange Example 1 -->
        <div class="slide slide-two-part" data-slide="18" data-section="Error Bounds" data-title="Lagrange Example: e^x">
            <div class="slide-content">
                <h2>Example: Error in \(e^x\) Approximation</h2>
                <div class="example-box">
                    <p style="font-size: 1.35rem; color: var(--theme-color);">Problem: Bound error when approximating \(e^{0.5}\) with \(P_4(x)\)</p>
                    <div class="step">\(f(x) = e^x\), so \(f^{(5)}(x) = e^x\)</div>
                    <div class="step">For \(t \in [0, 0.5]\): max of \(e^t\) is at \(t = 0.5\)</div>
                    <div class="step">\(M = e^{0.5} \approx 1.65\) (or use \(M = 2\))</div>
                    <div class="step">$$|R_4(0.5)| \leq \frac{2 \cdot (0.5)^5}{5!} = \frac{2 \cdot 0.03125}{120} \approx 0.00052$$</div>
                </div>
            </div>
        </div>

        <!-- Slide 19: Lagrange Example 2 -->
        <div class="slide slide-two-part" data-slide="19" data-section="Error Bounds" data-title="Lagrange Example: sin(1)">
            <div class="slide-content">
                <h2>Example: How Many Terms for \(\sin(1)\)?</h2>
                <div class="example-box">
                    <p style="font-size: 1.35rem; color: var(--theme-color);">Problem: How many terms of Maclaurin series for \(\sin(1)\) within 0.0001?</p>
                    <div class="step">\(f(x) = \sin(x)\); all derivatives bounded by 1</div>
                    <div class="step">\(M = 1\) works for any \(n\)</div>
                    <div class="step">Need: \(\displaystyle\frac{1 \cdot 1^{n+1}}{(n+1)!} < 0.0001\)</div>
                    <div class="step">\((n+1)! > 10000\); \(8! = 40320 > 10000\) ✓</div>
                    <div class="result">So \(n+1 = 8\), meaning \(n = 7\): use \(P_7(x)\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 20: Comparing the Bounds -->
        <div class="slide slide-visual" data-slide="20" data-section="Error Bounds" data-title="Comparing Error Bounds">
            <div class="slide-content">
                <h2>Comparing Error Bounds</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Bound</th>
                            <th>When to Use</th>
                            <th>Formula</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alternating</td>
                            <td>Series alternates, AST applies</td>
                            <td>\(|S - S_n| \leq b_{n+1}\)</td>
                        </tr>
                        <tr>
                            <td>Lagrange</td>
                            <td>General case</td>
                            <td>\(|R_n| \leq \frac{M|x-a|^{n+1}}{(n+1)!}\)</td>
                        </tr>
                    </tbody>
                </table>
                <p class="caption" style="margin-top: 1.5rem;">Alternating bound is usually simpler and tighter when applicable</p>
            </div>
        </div>

        <!-- Slide 21: Integration Application -->
        <div class="slide slide-two-part" data-slide="21" data-section="Applications" data-title="Application: Integration">
            <div class="slide-content">
                <h2>Application: \(\displaystyle\int_0^1 e^{-x^2}\,dx\)</h2>
                <div class="example-box">
                    <p style="font-size: 1.35rem; color: var(--theme-color);">Problem: Approximate within 0.001</p>
                    <div class="step">Series: \(e^{-x^2} = 1 - x^2 + \frac{x^4}{2!} - \frac{x^6}{3!} + \cdots\)</div>
                    <div class="step">Integrate: \(\displaystyle\int_0^1 e^{-x^2}\,dx = 1 - \frac{1}{3} + \frac{1}{10} - \frac{1}{42} + \cdots\)</div>
                    <div class="step">Alternating! Need term \(< 0.001\)</div>
                    <div class="step">Term at \(n=5\): \(\frac{1}{11 \cdot 120} \approx 0.00076 < 0.001\) ✓</div>
                    <div class="result">Sum: \(\approx 0.747\)</div>
                </div>
            </div>
        </div>

        <!-- Slide 22: Summary - Finding Interval -->
        <div class="slide slide-list" data-slide="22" data-section="Summary" data-title="Finding Interval Summary">
            <div class="slide-content">
                <h2>Finding Interval of Convergence</h2>
                <ul>
                    <li><strong>Step 1:</strong> Apply ratio test to find \(R\)</li>
                    <li><strong>Step 2:</strong> Write interval \((a-R, a+R)\)</li>
                    <li><strong>Step 3:</strong> Test each endpoint separately with appropriate test</li>
                    <li><strong>Step 4:</strong> Write final interval with correct bracket notation</li>
                </ul>
            </div>
        </div>

        <!-- Slide 23: Summary - Error Bounds -->
        <div class="slide slide-list" data-slide="23" data-section="Summary" data-title="Choosing Error Bound">
            <div class="slide-content">
                <h2>Choosing an Error Bound</h2>
                <ul>
                    <li style="font-size: 1.5rem;">Is the series alternating and satisfies AST?</li>
                    <li style="color: #22c55e;"><strong>YES:</strong> Use alternating bound \(|S - S_n| \leq b_{n+1}\)</li>
                    <li style="color: #ef4444;"><strong>NO:</strong> Use Lagrange bound \(|R_n| \leq \frac{M|x-a|^{n+1}}{(n+1)!}\)</li>
                </ul>
                <p class="caption" style="margin-top: 2rem;">Error bounds are UPPER bounds—true error usually smaller</p>
            </div>
        </div>

        <!-- Slide 24: Practice Problem -->
        <div class="slide slide-exercise" data-slide="24" data-section="Practice" data-title="Practice Problems">
            <div class="slide-content">
                <h2>Practice</h2>
                <div class="practice-problems">
                    <ol>
                        <li>Find the radius and interval of convergence for \(\displaystyle\sum \frac{(x-2)^n}{n^2}\)</li>
                        <li>How many terms of \(\displaystyle\sum \frac{(-1)^n}{(2n+1)!}\) give \(\sin(1)\) within 0.0001?</li>
                        <li>Bound error when approximating \(\cos(0.2)\) with \(P_4(x)\) using Lagrange</li>
                    </ol>
                </div>
                <p class="caption" style="margin-top: 2rem;">5 minutes</p>
            </div>
        </div>

        <!-- Slide 25: Practice Solutions -->
        <div class="slide slide-list" data-slide="25" data-section="Practice" data-title="Solutions">
            <div class="slide-content">
                <h2>Solutions</h2>
                <div class="solutions-list">
                    <ol>
                        <li>\(R = 1\) (ratio test). At \(x=3\): \(\sum 1/n^2\) converges. At \(x=1\): \(\sum 1/n^2\) converges. Interval: \([1, 3]\)</li>
                        <li>Terms: \(1, -1/6, 1/120, -1/5040, 1/362880...\); \(1/5040 < 0.0001\) ✓. Use 4 terms</li>
                        <li>\(M = 1\) for \(|\cos^{(5)}|\). \(|R_4| \leq \frac{1 \cdot (0.2)^5}{5!} = \frac{0.00032}{120} \approx 0.0000027\)</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Slide 26: Key Takeaways -->
        <div class="slide slide-list" data-slide="26" data-section="Summary" data-title="Key Takeaways">
            <div class="slide-content">
                <h2>Key Takeaways</h2>
                <ul>
                    <li>Radius \(R\) found via ratio test: \(R = 1/\lim|c_{n+1}/c_n|\)</li>
                    <li>Always test endpoints separately</li>
                    <li>Alternating error: \(|S - S_n| \leq b_{n+1}\) (simple, tight)</li>
                    <li>Lagrange error: \(|R_n| \leq M|x-a|^{n+1}/(n+1)!\) (general)</li>
                    <li>Choose appropriate bound for the situation</li>
                </ul>
            </div>
        </div>

        <!-- Slide 27: Exit Ticket -->
        <div class="slide slide-exercise" data-slide="27" data-section="Closing" data-title="Exit Ticket">
            <div class="slide-content">
                <h2>Exit Ticket</h2>
                <div class="prompt">
                    <ol style="text-align: left; max-width: 700px; margin: 0 auto; font-size: 1.5rem;">
                        <li style="padding: 0.75rem 0;">Find the interval of convergence for \(\displaystyle\sum \frac{x^n}{n!}\).</li>
                        <li style="padding: 0.75rem 0;">State both error bound formulas.</li>
                        <li style="padding: 0.75rem 0;">If approximating \(e^1\) with \(P_n\), which error bound would you use? Why?</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Slide 28: Unit 10 Complete -->
        <div class="slide slide-statement" data-slide="28" data-section="Closing" data-title="Unit 10 Complete">
            <div class="slide-content">
                <p class="statement" style="color: var(--theme-color);">Congratulations! Unit 10 Complete</p>
                <p class="statement" style="font-size: 1.75rem; margin-top: 1.5rem;">You've mastered infinite sequences and series—one of the most powerful tools in mathematics!</p>
                <p class="secondary" style="margin-top: 2rem; font-size: 1.35rem; color: var(--text-secondary);">Review all convergence tests before the exam</p>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>

        <!-- Slide Counter -->
        <div class="slide-counter">1 / 29</div>

        <!-- Keyboard Hint -->
        <div class="keyboard-hint">
            <kbd>←</kbd> <kbd>→</kbd> Navigate | <kbd>T</kbd> TOC | <kbd>S</kbd> Syllabus | <kbd>F</kbd> Fullscreen
        </div>

        <!-- Overlay Backdrop -->
        <div id="overlay-backdrop" class="overlay-backdrop"></div>

        <!-- TOC Overlay -->
        <div id="toc-overlay" class="toc-overlay">
            <button id="toc-close" class="toc-close">&times;</button>
            <div class="toc-header">
                <h3>Table of Contents</h3>
                <div class="class-info">Class 63: Power Series and Error Bounds</div>
            </div>
            <div id="toc-content" class="toc-content"></div>
            <div class="toc-footer">
                <a href="../index.html">← Back to Course Syllabus</a>
            </div>
        </div>

        <!-- Appendix Overlay -->
        <div id="appendix-overlay" class="appendix-overlay">
            <div class="appendix-header">
                <h3>Appendix</h3>
                <button id="appendix-close" class="appendix-close">&times;</button>
            </div>
            <div id="appendix-content" class="appendix-content"></div>
            <div class="appendix-nav">
                <button id="appendix-prev" class="appendix-nav-btn">← Prev</button>
                <span id="appendix-counter" class="appendix-counter">1 / 1</span>
                <button id="appendix-next" class="appendix-nav-btn">Next →</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="../shared/presentation.js"></script>
    <script>
        // ===== Interval of Convergence Visualization =====
        function drawIntervalVisualization() {
            const container = document.getElementById('interval-viz');
            if (!container || container.querySelector('svg')) return;

            const width = 800;
            const height = 280;
            const margin = { top: 40, right: 60, bottom: 80, left: 60 };

            const svg = d3.select(container)
                .append('svg')
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMidYMid meet');

            // Parameters
            const a = 0; // center
            const R = 2; // radius

            // Scale
            const xScale = d3.scaleLinear()
                .domain([-4, 4])
                .range([margin.left, width - margin.right]);

            const y = height / 2 - 10;

            // Diverges region (left)
            svg.append('rect')
                .attr('x', xScale(-4))
                .attr('y', y - 30)
                .attr('width', xScale(a - R) - xScale(-4))
                .attr('height', 60)
                .attr('fill', '#f97316')
                .attr('opacity', 0.3);

            // Converges region (center)
            svg.append('rect')
                .attr('x', xScale(a - R))
                .attr('y', y - 30)
                .attr('width', xScale(a + R) - xScale(a - R))
                .attr('height', 60)
                .attr('fill', '#22c55e')
                .attr('opacity', 0.3);

            // Diverges region (right)
            svg.append('rect')
                .attr('x', xScale(a + R))
                .attr('y', y - 30)
                .attr('width', xScale(4) - xScale(a + R))
                .attr('height', 60)
                .attr('fill', '#f97316')
                .attr('opacity', 0.3);

            // Number line
            svg.append('line')
                .attr('x1', margin.left)
                .attr('x2', width - margin.right)
                .attr('y1', y)
                .attr('y2', y)
                .attr('stroke', '#b8c4d6')
                .attr('stroke-width', 3);

            // Tick marks and labels
            const ticks = [-4, -3, -2, -1, 0, 1, 2, 3, 4];
            ticks.forEach(t => {
                svg.append('line')
                    .attr('x1', xScale(t))
                    .attr('x2', xScale(t))
                    .attr('y1', y - 8)
                    .attr('y2', y + 8)
                    .attr('stroke', '#b8c4d6')
                    .attr('stroke-width', 2);

                svg.append('text')
                    .attr('x', xScale(t))
                    .attr('y', y + 30)
                    .attr('text-anchor', 'middle')
                    .attr('font-size', '1.25rem')
                    .attr('fill', '#b8c4d6')
                    .text(t);
            });

            // Center point (a)
            svg.append('circle')
                .attr('cx', xScale(a))
                .attr('cy', y)
                .attr('r', 8)
                .attr('fill', '#4f46e5');

            svg.append('text')
                .attr('x', xScale(a))
                .attr('y', y - 45)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('font-weight', '600')
                .attr('fill', '#4f46e5')
                .text('a = 0');

            // Left endpoint (a - R)
            svg.append('circle')
                .attr('cx', xScale(a - R))
                .attr('cy', y)
                .attr('r', 10)
                .attr('fill', 'none')
                .attr('stroke', '#fbbf24')
                .attr('stroke-width', 3);

            svg.append('text')
                .attr('x', xScale(a - R))
                .attr('y', y - 45)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#fbbf24')
                .text('a - R = -2');

            svg.append('text')
                .attr('x', xScale(a - R))
                .attr('y', y + 55)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#fbbf24')
                .text('?');

            // Right endpoint (a + R)
            svg.append('circle')
                .attr('cx', xScale(a + R))
                .attr('cy', y)
                .attr('r', 10)
                .attr('fill', 'none')
                .attr('stroke', '#fbbf24')
                .attr('stroke-width', 3);

            svg.append('text')
                .attr('x', xScale(a + R))
                .attr('y', y - 45)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#fbbf24')
                .text('a + R = 2');

            svg.append('text')
                .attr('x', xScale(a + R))
                .attr('y', y + 55)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#fbbf24')
                .text('?');

            // Labels for regions
            svg.append('text')
                .attr('x', xScale(-3))
                .attr('y', y + 80)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#f97316')
                .text('Diverges');

            svg.append('text')
                .attr('x', xScale(0))
                .attr('y', y + 80)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#22c55e')
                .text('Converges');

            svg.append('text')
                .attr('x', xScale(3))
                .attr('y', y + 80)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#f97316')
                .text('Diverges');

            // Radius arrow
            svg.append('line')
                .attr('x1', xScale(a))
                .attr('x2', xScale(a + R))
                .attr('y1', y - 70)
                .attr('y2', y - 70)
                .attr('stroke', '#4f46e5')
                .attr('stroke-width', 2)
                .attr('marker-end', 'url(#arrow)');

            svg.append('text')
                .attr('x', xScale(a + R/2))
                .attr('y', y - 80)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#4f46e5')
                .text('R = 2');

            // Arrow marker
            const defs = svg.append('defs');
            defs.append('marker')
                .attr('id', 'arrow')
                .attr('viewBox', '0 -5 10 10')
                .attr('refX', 10)
                .attr('refY', 0)
                .attr('markerWidth', 6)
                .attr('markerHeight', 6)
                .attr('orient', 'auto')
                .append('path')
                .attr('d', 'M0,-5L10,0L0,5')
                .attr('fill', '#4f46e5');
        }

        // ===== Alternating Series Error Bound Visualization =====
        function drawAlternatingVisualization() {
            const container = document.getElementById('alternating-viz');
            if (!container || container.querySelector('svg')) return;

            const width = 800;
            const height = 350;
            const margin = { top: 50, right: 80, bottom: 60, left: 80 };

            const svg = d3.select(container)
                .append('svg')
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMidYMid meet');

            // Alternating harmonic series: ln(2) = 1 - 1/2 + 1/3 - 1/4 + ...
            const S = Math.log(2); // True sum
            const partialSums = [];
            let sum = 0;
            for (let n = 1; n <= 10; n++) {
                sum += Math.pow(-1, n+1) / n;
                partialSums.push({ n: n, sum: sum, term: 1/n });
            }

            // Scales
            const xScale = d3.scaleLinear()
                .domain([0, 11])
                .range([margin.left, width - margin.right]);

            const yScale = d3.scaleLinear()
                .domain([0.5, 1.1])
                .range([height - margin.bottom, margin.top]);

            // Grid lines
            for (let y = 0.5; y <= 1.1; y += 0.1) {
                svg.append('line')
                    .attr('x1', margin.left)
                    .attr('x2', width - margin.right)
                    .attr('y1', yScale(y))
                    .attr('y2', yScale(y))
                    .attr('stroke', '#1c2640')
                    .attr('stroke-width', 1);
            }

            // True sum line
            svg.append('line')
                .attr('x1', margin.left)
                .attr('x2', width - margin.right)
                .attr('y1', yScale(S))
                .attr('y2', yScale(S))
                .attr('stroke', '#fbbf24')
                .attr('stroke-width', 3)
                .attr('stroke-dasharray', '8,4');

            svg.append('text')
                .attr('x', width - margin.right + 10)
                .attr('y', yScale(S) + 5)
                .attr('font-size', '1.25rem')
                .attr('fill', '#fbbf24')
                .text('S = ln(2)');

            // Axes
            svg.append('line')
                .attr('x1', margin.left)
                .attr('x2', width - margin.right)
                .attr('y1', height - margin.bottom)
                .attr('y2', height - margin.bottom)
                .attr('stroke', '#b8c4d6')
                .attr('stroke-width', 2);

            svg.append('line')
                .attr('x1', margin.left)
                .attr('x2', margin.left)
                .attr('y1', margin.top)
                .attr('y2', height - margin.bottom)
                .attr('stroke', '#b8c4d6')
                .attr('stroke-width', 2);

            // Axis labels
            svg.append('text')
                .attr('x', width / 2)
                .attr('y', height - 15)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#b8c4d6')
                .text('Number of terms (n)');

            svg.append('text')
                .attr('x', 20)
                .attr('y', height / 2)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#b8c4d6')
                .attr('transform', `rotate(-90, 20, ${height/2})`)
                .text('Partial sum Sₙ');

            // Tick marks on x-axis
            for (let n = 1; n <= 10; n++) {
                svg.append('line')
                    .attr('x1', xScale(n))
                    .attr('x2', xScale(n))
                    .attr('y1', height - margin.bottom)
                    .attr('y2', height - margin.bottom + 8)
                    .attr('stroke', '#b8c4d6')
                    .attr('stroke-width', 2);

                svg.append('text')
                    .attr('x', xScale(n))
                    .attr('y', height - margin.bottom + 25)
                    .attr('text-anchor', 'middle')
                    .attr('font-size', '1.25rem')
                    .attr('fill', '#b8c4d6')
                    .text(n);
            }

            // Draw connecting lines between partial sums
            for (let i = 0; i < partialSums.length - 1; i++) {
                svg.append('line')
                    .attr('x1', xScale(partialSums[i].n))
                    .attr('y1', yScale(partialSums[i].sum))
                    .attr('x2', xScale(partialSums[i+1].n))
                    .attr('y2', yScale(partialSums[i+1].sum))
                    .attr('stroke', '#4f46e5')
                    .attr('stroke-width', 2)
                    .attr('opacity', 0.5);
            }

            // Draw partial sum points with animation
            partialSums.forEach((d, i) => {
                const point = svg.append('circle')
                    .attr('cx', xScale(d.n))
                    .attr('cy', yScale(d.sum))
                    .attr('r', 0)
                    .attr('fill', '#4f46e5');

                point.transition()
                    .delay(i * 200)
                    .duration(300)
                    .attr('r', 8);

                // Error bar
                if (d.n >= 3) {
                    const errorGroup = svg.append('g')
                        .attr('opacity', 0);

                    // Error line
                    errorGroup.append('line')
                        .attr('x1', xScale(d.n) + 15)
                        .attr('x2', xScale(d.n) + 15)
                        .attr('y1', yScale(d.sum))
                        .attr('y2', yScale(S))
                        .attr('stroke', '#f97316')
                        .attr('stroke-width', 2);

                    // Error bracket top
                    errorGroup.append('line')
                        .attr('x1', xScale(d.n) + 10)
                        .attr('x2', xScale(d.n) + 20)
                        .attr('y1', yScale(d.sum))
                        .attr('y2', yScale(d.sum))
                        .attr('stroke', '#f97316')
                        .attr('stroke-width', 2);

                    // Error bracket bottom
                    errorGroup.append('line')
                        .attr('x1', xScale(d.n) + 10)
                        .attr('x2', xScale(d.n) + 20)
                        .attr('y1', yScale(S))
                        .attr('y2', yScale(S))
                        .attr('stroke', '#f97316')
                        .attr('stroke-width', 2);

                    errorGroup.transition()
                        .delay(i * 200 + 150)
                        .duration(200)
                        .attr('opacity', 1);
                }
            });

            // Add label explaining error bound
            svg.append('text')
                .attr('x', xScale(6))
                .attr('y', margin.top + 10)
                .attr('font-size', '1.25rem')
                .attr('fill', '#f97316')
                .text('Error |S - Sₙ| ≤ bₙ₊₁');
        }

        // ===== Trigger Visualizations on Slide Entry =====
        const visualizationSlides = {
            4: drawIntervalVisualization,
            13: drawAlternatingVisualization
        };

        let lastSlide = -1;

        function checkAndDrawVisualization() {
            if (!window.Presentation) return;

            const currentSlide = window.Presentation.getCurrentSlide();
            if (currentSlide !== lastSlide) {
                lastSlide = currentSlide;
                if (visualizationSlides[currentSlide]) {
                    setTimeout(visualizationSlides[currentSlide], 100);
                }
            }
        }

        // Check periodically for slide changes
        setInterval(checkAndDrawVisualization, 200);

        // Also check on hash changes
        window.addEventListener('hashchange', () => {
            setTimeout(checkAndDrawVisualization, 100);
        });

        // Initial check after DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(checkAndDrawVisualization, 200);
            });
        } else {
            setTimeout(checkAndDrawVisualization, 200);
        }
    </script>
</body>
</html>
