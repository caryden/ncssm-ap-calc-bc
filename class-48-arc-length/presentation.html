<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 48: Arc Length | AP Calculus BC</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        :root {
            --theme-color: #e11d48;
            --theme-light: #ffe4e6;
            --theme-dark: #be123c;
        }
        .unit-badge {
            background: var(--theme-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        .formula-box {
            background: var(--theme-light);
            border-left: 4px solid var(--theme-color);
            padding: 1.5rem 2rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
            font-size: 1.75rem;
        }
        .example-box {
            background: #f8fafc;
            border: 2px solid var(--theme-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            width: 100%;
        }
        .column {
            padding: 1rem;
        }
        .viz-container {
            width: 100%;
            max-width: 700px;
            height: 400px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Title Slide -->
        <div class="slide slide-title active" data-slide="0" data-title="Arc Length">
            <div class="slide-content">
                <span class="unit-badge">Unit 8: Applications of Integration</span>
                <h1>Arc Length</h1>
                <h2>Class 48 | CED Topic 8.13</h2>
                <p style="font-size: 1.25rem; color: #64748b; margin-top: 2rem;">
                    Measuring the Length of Curves
                </p>
            </div>
        </div>

        <!-- Warm-Up -->
        <div class="slide slide-statement" data-slide="1" data-title="Warm-Up">
            <div class="slide-content">
                <h2>Warm-Up</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    What is the distance between points \( (x_1, y_1) \) and \( (x_2, y_2) \)?
                </p>
                <div class="formula-box">
                    \( d = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem; color: #64748b;">
                    The Pythagorean theorem in disguise!
                </p>
            </div>
        </div>

        <!-- The Problem -->
        <div class="slide slide-statement" data-slide="2" data-title="The Problem">
            <div class="slide-content">
                <h2>The Challenge</h2>
                <p style="font-size: 1.75rem; margin-bottom: 2rem;">
                    How do we find the length of a curve?
                </p>
                <p style="font-size: 1.5rem; color: #64748b;">
                    Straight line: easy (distance formula)<br><br>
                    Curve: we need calculus!
                </p>
            </div>
        </div>

        <!-- Approximation Idea -->
        <div class="slide slide-content" data-slide="3" data-title="Approximation">
            <div class="slide-content">
                <h2>Approximating Arc Length</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    Break the curve into small line segments.
                </p>
                <p style="font-size: 1.5rem;">
                    Each segment has length:
                </p>
                <div class="formula-box">
                    \( \Delta s \approx \sqrt{(\Delta x)^2 + (\Delta y)^2} \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1.5rem; color: #64748b;">
                    As segments get smaller, approximation improves!
                </p>
            </div>
        </div>

        <!-- Visualization -->
        <div class="slide slide-visual" data-slide="4" data-title="Visualization">
            <div class="slide-content">
                <h2>Approximating with Line Segments</h2>
                <div class="viz-container" id="arc-viz"></div>
            </div>
        </div>

        <!-- Derivation -->
        <div class="slide slide-content" data-slide="5" data-title="Derivation">
            <div class="slide-content">
                <h2>Deriving the Formula</h2>
                <p style="font-size: 1.5rem;">Factor out \( \Delta x \):</p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( \Delta s = \sqrt{(\Delta x)^2 + (\Delta y)^2} = \sqrt{1 + \left(\frac{\Delta y}{\Delta x}\right)^2} \cdot \Delta x \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1.5rem;">As \( \Delta x \to 0 \):</p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( ds = \sqrt{1 + \left(\frac{dy}{dx}\right)^2} \, dx \)
                </div>
            </div>
        </div>

        <!-- Arc Length Formula -->
        <div class="slide slide-statement" data-slide="6" data-title="Arc Length Formula">
            <div class="slide-content">
                <h2>Arc Length Formula</h2>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( L = \int_a^b \sqrt{1 + \left(\frac{dy}{dx}\right)^2} \, dx \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem; color: #64748b;">
                    Or equivalently: \( L = \int_a^b \sqrt{1 + [f'(x)]^2} \, dx \)
                </p>
            </div>
        </div>

        <!-- Alternative Form -->
        <div class="slide slide-statement" data-slide="7" data-title="Alternative Form">
            <div class="slide-content">
                <h2>Alternative: Integrate with respect to y</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    If \( x = g(y) \) for \( y \in [c, d] \):
                </p>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( L = \int_c^d \sqrt{1 + \left(\frac{dx}{dy}\right)^2} \, dy \)
                </div>
            </div>
        </div>

        <!-- Example 1 -->
        <div class="slide slide-content" data-slide="8" data-title="Example 1">
            <div class="slide-content">
                <h2>Example 1: Line Segment</h2>
                <p style="font-size: 1.5rem;">
                    Find the length of \( y = 2x + 1 \) from \( x = 0 \) to \( x = 3 \).
                </p>
                <p style="font-size: 1.35rem; margin-top: 1rem;">
                    \( \frac{dy}{dx} = 2 \), so \( 1 + (dy/dx)^2 = 1 + 4 = 5 \)
                </p>
                <div class="formula-box">
                    \( L = \int_0^3 \sqrt{5} \, dx = \sqrt{5} \cdot 3 = 3\sqrt{5} \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1rem; color: var(--theme-dark);">
                    ✓ Check: Distance from (0,1) to (3,7) = \( \sqrt{9+36} = \sqrt{45} = 3\sqrt{5} \) ✓
                </p>
            </div>
        </div>

        <!-- Example 2 -->
        <div class="slide slide-content" data-slide="9" data-title="Example 2">
            <div class="slide-content">
                <h2>Example 2: Parabola</h2>
                <p style="font-size: 1.5rem;">
                    Find the length of \( y = x^2 \) from \( x = 0 \) to \( x = 1 \).
                </p>
                <p style="font-size: 1.35rem; margin-top: 1rem;">
                    \( \frac{dy}{dx} = 2x \), so \( 1 + (dy/dx)^2 = 1 + 4x^2 \)
                </p>
                <div class="formula-box">
                    \( L = \int_0^1 \sqrt{1 + 4x^2} \, dx \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1rem; color: #64748b;">
                    This requires trig substitution or a calculator!<br>
                    \( L \approx 1.479 \)
                </p>
            </div>
        </div>

        <!-- Example 3 -->
        <div class="slide slide-content" data-slide="10" data-title="Example 3">
            <div class="slide-content">
                <h2>Example 3: A Nice One</h2>
                <p style="font-size: 1.5rem;">
                    Find the arc length of \( y = \frac{x^3}{6} + \frac{1}{2x} \) from \( x = 1 \) to \( x = 2 \).
                </p>
                <p style="font-size: 1.35rem; margin-top: 1rem;">
                    \( \frac{dy}{dx} = \frac{x^2}{2} - \frac{1}{2x^2} \)
                </p>
                <div class="formula-box" style="font-size: 1.35rem;">
                    \( 1 + \left(\frac{dy}{dx}\right)^2 = 1 + \frac{x^4}{4} - \frac{1}{2} + \frac{1}{4x^4} = \left(\frac{x^2}{2} + \frac{1}{2x^2}\right)^2 \)
                </div>
                <p style="font-size: 1.35rem; margin-top: 1rem;">
                    It's a perfect square! ✓
                </p>
            </div>
        </div>

        <!-- Example 3 Continued -->
        <div class="slide slide-content" data-slide="11" data-title="Example 3 Continued">
            <div class="slide-content">
                <h2>Example 3: Solution</h2>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( L = \int_1^2 \left(\frac{x^2}{2} + \frac{1}{2x^2}\right) dx \)
                </div>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( = \left[\frac{x^3}{6} - \frac{1}{2x}\right]_1^2 \)
                </div>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( = \left(\frac{8}{6} - \frac{1}{4}\right) - \left(\frac{1}{6} - \frac{1}{2}\right) = \frac{4}{3} - \frac{1}{4} + \frac{1}{3} = \frac{17}{12} \)
                </div>
            </div>
        </div>

        <!-- Differential Form -->
        <div class="slide slide-statement" data-slide="12" data-title="Differential Form">
            <div class="slide-content">
                <h2>The Arc Length Differential</h2>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( ds = \sqrt{dx^2 + dy^2} \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem;">
                    This is the infinitesimal version of the Pythagorean theorem!
                </p>
                <p style="font-size: 1.5rem; margin-top: 1rem; color: #64748b;">
                    Total length: \( L = \int ds \)
                </p>
            </div>
        </div>

        <!-- AP Exam Notes -->
        <div class="slide slide-content" data-slide="13" data-title="AP Exam Notes">
            <div class="slide-content">
                <h2>AP Exam Considerations</h2>
                <div class="example-box">
                    <p style="font-size: 1.5rem;"><strong>On the AP Exam:</strong></p>
                    <ul style="font-size: 1.35rem; margin-top: 1rem;">
                        <li>You must know how to set up the integral</li>
                        <li>Calculator-active: evaluate numerically</li>
                        <li>No calculator: leave in integral form or simplify if possible</li>
                        <li>Recognize "nice" integrands that are perfect squares</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Practice 1 -->
        <div class="slide slide-exercise" data-slide="14" data-title="Practice 1">
            <div class="slide-content">
                <h2>Practice Problem 1</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    Set up (and evaluate if possible) the integral for the arc length of
                    \( y = x^{3/2} \) from \( x = 0 \) to \( x = 4 \).
                </p>
                <div class="example-box">
                    <p style="font-size: 1.5rem;"><strong>Hint:</strong> This one simplifies nicely!</p>
                </div>
            </div>
        </div>

        <!-- Practice 2 -->
        <div class="slide slide-exercise" data-slide="15" data-title="Practice 2">
            <div class="slide-content">
                <h2>Practice Problem 2</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    Find the arc length of \( y = \ln(\cos x) \) from \( x = 0 \) to \( x = \frac{\pi}{4} \).
                </p>
                <p style="font-size: 1.35rem; color: #64748b;">
                    Hint: \( \frac{d}{dx}[\ln(\cos x)] = -\tan x \)
                </p>
            </div>
        </div>

        <!-- Practice 3 -->
        <div class="slide slide-exercise" data-slide="16" data-title="Practice 3">
            <div class="slide-content">
                <h2>Practice Problem 3</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    Set up the integral for the arc length of \( y = e^x \) from \( x = 0 \) to \( x = 2 \).
                </p>
                <p style="font-size: 1.35rem; color: #64748b;">
                    This integral cannot be evaluated with elementary functions.
                    Use a calculator to find \( L \approx \)?
                </p>
            </div>
        </div>

        <!-- Exit Ticket -->
        <div class="slide slide-statement" data-slide="17" data-title="Exit Ticket">
            <div class="slide-content">
                <h2>Exit Ticket</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    1. What is the arc length formula for \( y = f(x) \)?
                </p>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    2. Why does the formula involve \( \sqrt{1 + (f')^2} \)?
                </p>
                <p style="font-size: 1.5rem;">
                    3. Set up the arc length integral for \( y = \sin x \) from \( x = 0 \) to \( x = \pi \).
                </p>
            </div>
        </div>

        <!-- Closing -->
        <div class="slide slide-title" data-slide="18" data-title="Closing">
            <div class="slide-content">
                <h2>Key Takeaways</h2>
                <p style="font-size: 1.5rem; text-align: left; max-width: 800px; margin: 0 auto;">
                    • Arc length: \( L = \int_a^b \sqrt{1 + [f'(x)]^2} \, dx \)<br><br>
                    • Based on Pythagorean theorem: \( ds = \sqrt{dx^2 + dy^2} \)<br><br>
                    • Most arc length integrals require a calculator<br><br>
                    • Look for "nice" cases where the integrand simplifies<br><br>
                    • Can also integrate with respect to \( y \) if easier
                </p>
            </div>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Navigation -->
    <div class="nav-arrows">
        <button class="nav-arrow" id="prevBtn">←</button>
        <span class="slide-counter"><span id="currentSlide">1</span>/<span id="totalSlides">19</span></span>
        <button class="nav-arrow" id="nextBtn">→</button>
    </div>

    <script src="../shared/presentation.js"></script>
    <script>
        function drawArcViz() {
            const container = document.getElementById('arc-viz');
            if (!container || container.querySelector('svg')) return;

            const width = 700;
            const height = 400;
            const margin = { top: 30, right: 30, bottom: 50, left: 60 };
            const innerWidth = width - margin.left - margin.right;
            const innerHeight = height - margin.top - margin.bottom;

            const svg = d3.select(container)
                .append('svg')
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMidYMid meet');

            const g = svg.append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const xScale = d3.scaleLinear().domain([0, 3]).range([0, innerWidth]);
            const yScale = d3.scaleLinear().domain([0, 3]).range([innerHeight, 0]);

            // Axes
            g.append('g')
                .attr('transform', `translate(0,${innerHeight})`)
                .call(d3.axisBottom(xScale))
                .style('font-size', '1rem');

            g.append('g')
                .call(d3.axisLeft(yScale))
                .style('font-size', '1rem');

            // Function y = sqrt(x)
            const f = x => Math.sqrt(x);
            const line = d3.line()
                .x(d => xScale(d))
                .y(d => yScale(f(d)));

            const xVals = d3.range(0, 3, 0.02);

            // Draw the curve
            g.append('path')
                .datum(xVals)
                .attr('fill', 'none')
                .attr('stroke', '#e11d48')
                .attr('stroke-width', 3)
                .attr('d', line);

            // Draw line segment approximations
            const n = 6;
            const points = d3.range(n + 1).map(i => {
                const x = i * 3 / n;
                return { x: x, y: f(x) };
            });

            // Draw segments
            for (let i = 0; i < points.length - 1; i++) {
                g.append('line')
                    .attr('x1', xScale(points[i].x))
                    .attr('y1', yScale(points[i].y))
                    .attr('x2', xScale(points[i+1].x))
                    .attr('y2', yScale(points[i+1].y))
                    .attr('stroke', '#059669')
                    .attr('stroke-width', 2)
                    .attr('stroke-dasharray', '5,3');
            }

            // Draw points
            points.forEach(p => {
                g.append('circle')
                    .attr('cx', xScale(p.x))
                    .attr('cy', yScale(p.y))
                    .attr('r', 5)
                    .attr('fill', '#059669');
            });

            // Draw one small right triangle
            const i = 2;
            const dx = points[i+1].x - points[i].x;
            const dy = points[i+1].y - points[i].y;

            g.append('line')
                .attr('x1', xScale(points[i].x))
                .attr('y1', yScale(points[i].y))
                .attr('x2', xScale(points[i+1].x))
                .attr('y2', yScale(points[i].y))
                .attr('stroke', '#64748b')
                .attr('stroke-width', 1);

            g.append('line')
                .attr('x1', xScale(points[i+1].x))
                .attr('y1', yScale(points[i].y))
                .attr('x2', xScale(points[i+1].x))
                .attr('y2', yScale(points[i+1].y))
                .attr('stroke', '#64748b')
                .attr('stroke-width', 1);

            // Labels
            g.append('text')
                .attr('x', xScale((points[i].x + points[i+1].x)/2))
                .attr('y', yScale(points[i].y) + 20)
                .attr('text-anchor', 'middle')
                .attr('font-size', '1.25rem')
                .attr('fill', '#64748b')
                .text('Δx');

            g.append('text')
                .attr('x', xScale(points[i+1].x) + 15)
                .attr('y', yScale((points[i].y + points[i+1].y)/2))
                .attr('font-size', '1.25rem')
                .attr('fill', '#64748b')
                .text('Δy');

            g.append('text')
                .attr('x', xScale((points[i].x + points[i+1].x)/2) - 20)
                .attr('y', yScale((points[i].y + points[i+1].y)/2) - 10)
                .attr('font-size', '1.25rem')
                .attr('fill', '#059669')
                .text('Δs');

            // Legend
            g.append('text')
                .attr('x', innerWidth - 10)
                .attr('y', 30)
                .attr('text-anchor', 'end')
                .attr('font-size', '1.25rem')
                .attr('fill', '#e11d48')
                .text('y = √x');
        }

        // Trigger visualization
        const originalGoToSlide = window.Presentation.goToSlide;
        window.Presentation.goToSlide = function(n) {
            originalGoToSlide(n);
            if (n === 4) setTimeout(drawArcViz, 300);
        };
    </script>
</body>
</html>
