<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 52: Motion with Vectors | AP Calculus BC</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        :root {
            --theme-color: #0891b2;
            --theme-light: #cffafe;
            --theme-dark: #0e7490;
        }
        .unit-badge {
            background: var(--theme-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        .formula-box {
            background: var(--theme-light);
            border-left: 4px solid var(--theme-color);
            padding: 1.5rem 2rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
            font-size: 1.75rem;
        }
        .example-box {
            background: var(--bg-tertiary);
            border: 2px solid var(--theme-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            width: 100%;
        }
        .column {
            padding: 1rem;
        }
        .concept-box {
            background: var(--bg-secondary);
            border: 2px solid var(--theme-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
        }
        .concept-box h3 {
            color: var(--theme-color);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        .viz-container {
            width: 100%;
            max-width: 700px;
            height: 400px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Title Slide -->
        <div class="slide slide-title active" data-slide="0" data-title="Motion with Vectors">
            <div class="slide-content">
                <span class="unit-badge">Unit 9: Parametric, Polar, Vectors</span>
                <h1>Motion with Vector-Valued Functions</h1>
                <h2>Class 52 | CED Topic 9.6</h2>
                <p style="font-size: 1.25rem; color: #64748b; margin-top: 2rem;">
                    Position, Velocity, and Acceleration in 2D
                </p>
            </div>
        </div>

        <!-- Warm-Up -->
        <div class="slide slide-statement" data-slide="1" data-title="Warm-Up">
            <div class="slide-content">
                <h2>Warm-Up</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    A particle moves along a line with position \( s(t) = t^3 - 6t^2 + 9t \).
                </p>
                <p style="font-size: 1.5rem;">
                    Find the velocity \( v(t) \) and acceleration \( a(t) \).
                </p>
                <div class="formula-box" style="margin-top: 2rem;">
                    \( v(t) = 3t^2 - 12t + 9 \), \( a(t) = 6t - 12 \)
                </div>
            </div>
        </div>

        <!-- From 1D to 2D -->
        <div class="slide slide-statement" data-slide="2" data-title="1D to 2D">
            <div class="slide-content">
                <h2>From One Dimension to Two</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    In 1D: position is a scalar \( s(t) \)
                </p>
                <p style="font-size: 1.5rem;">
                    In 2D: position is a vector \( \vec{r}(t) = \langle x(t), y(t) \rangle \)
                </p>
                <p style="font-size: 1.5rem; margin-top: 2rem; color: #64748b;">
                    We can track motion in a plane!
                </p>
            </div>
        </div>

        <!-- Position Vector -->
        <div class="slide slide-statement" data-slide="3" data-title="Position Vector">
            <div class="slide-content">
                <h2>Position Vector</h2>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( \vec{r}(t) = \langle x(t), y(t) \rangle \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem;">
                    Points from the origin to the particle's location at time \( t \)
                </p>
            </div>
        </div>

        <!-- Velocity Vector -->
        <div class="slide slide-content" data-slide="4" data-title="Velocity Vector">
            <div class="slide-content">
                <h2>Velocity Vector</h2>
                <p style="font-size: 1.5rem;">
                    The derivative of position gives velocity:
                </p>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( \vec{v}(t) = \vec{r}'(t) = \langle x'(t), y'(t) \rangle \)
                </div>
                <div class="two-column" style="margin-top: 2rem;">
                    <div class="concept-box">
                        <h3>Direction</h3>
                        <p style="font-size: 1.35rem;">Tangent to the path</p>
                    </div>
                    <div class="concept-box">
                        <h3>Magnitude</h3>
                        <p style="font-size: 1.35rem;">Speed = \( |\vec{v}| \)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Speed Formula -->
        <div class="slide slide-statement" data-slide="5" data-title="Speed">
            <div class="slide-content">
                <h2>Speed</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    Speed is the magnitude of velocity:
                </p>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( |\vec{v}(t)| = \sqrt{[x'(t)]^2 + [y'(t)]^2} \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem; color: #64748b;">
                    Speed is always non-negative!
                </p>
            </div>
        </div>

        <!-- Acceleration Vector -->
        <div class="slide slide-statement" data-slide="6" data-title="Acceleration">
            <div class="slide-content">
                <h2>Acceleration Vector</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    The derivative of velocity gives acceleration:
                </p>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( \vec{a}(t) = \vec{v}'(t) = \vec{r}''(t) = \langle x''(t), y''(t) \rangle \)
                </div>
            </div>
        </div>

        <!-- Visualization -->
        <div class="slide slide-visual" data-slide="7" data-title="Visualization">
            <div class="slide-content">
                <h2>Visualizing Vector Motion</h2>
                <div class="viz-container" id="motion-viz"></div>
            </div>
        </div>

        <!-- Example 1 -->
        <div class="slide slide-content" data-slide="8" data-title="Example 1">
            <div class="slide-content">
                <h2>Example 1</h2>
                <p style="font-size: 1.5rem;">
                    A particle moves with position \( \vec{r}(t) = \langle t^2, t^3 - 3t \rangle \).
                </p>
                <p style="font-size: 1.35rem; margin-top: 1rem;">Find velocity and acceleration at \( t = 1 \).</p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( \vec{v}(t) = \langle 2t, 3t^2 - 3 \rangle \) → \( \vec{v}(1) = \langle 2, 0 \rangle \)
                </div>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( \vec{a}(t) = \langle 2, 6t \rangle \) → \( \vec{a}(1) = \langle 2, 6 \rangle \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1rem;">
                    Speed at \( t = 1 \): \( |\vec{v}(1)| = \sqrt{4 + 0} = 2 \)
                </p>
            </div>
        </div>

        <!-- Total Distance -->
        <div class="slide slide-statement" data-slide="9" data-title="Total Distance">
            <div class="slide-content">
                <h2>Total Distance Traveled</h2>
                <p style="font-size: 1.5rem; margin-bottom: 1.5rem;">
                    Integrate speed over time:
                </p>
                <div class="formula-box" style="font-size: 2rem; text-align: center;">
                    \( D = \int_a^b |\vec{v}(t)| \, dt = \int_a^b \sqrt{[x'(t)]^2 + [y'(t)]^2} \, dt \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 2rem; color: #64748b;">
                    This is arc length of the path!
                </p>
            </div>
        </div>

        <!-- Position from Velocity -->
        <div class="slide slide-content" data-slide="10" data-title="Position from Velocity">
            <div class="slide-content">
                <h2>Finding Position from Velocity</h2>
                <p style="font-size: 1.5rem;">
                    Given \( \vec{v}(t) \) and initial position \( \vec{r}(0) \):
                </p>
                <div class="formula-box" style="font-size: 1.75rem; text-align: center;">
                    \( \vec{r}(t) = \vec{r}(0) + \int_0^t \vec{v}(s) \, ds \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1.5rem;">
                    Integrate each component separately:
                </p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( x(t) = x(0) + \int_0^t x'(s) \, ds \), \( y(t) = y(0) + \int_0^t y'(s) \, ds \)
                </div>
            </div>
        </div>

        <!-- Displacement -->
        <div class="slide slide-statement" data-slide="11" data-title="Displacement">
            <div class="slide-content">
                <h2>Displacement vs Distance</h2>
                <div class="two-column">
                    <div class="concept-box">
                        <h3>Displacement</h3>
                        <p style="font-size: 1.35rem;">
                            \( \vec{r}(b) - \vec{r}(a) \)<br><br>
                            Net change in position (vector)
                        </p>
                    </div>
                    <div class="concept-box">
                        <h3>Total Distance</h3>
                        <p style="font-size: 1.35rem;">
                            \( \int_a^b |\vec{v}| \, dt \)<br><br>
                            Total path length (scalar)
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Example 2 -->
        <div class="slide slide-content" data-slide="12" data-title="Example 2">
            <div class="slide-content">
                <h2>Example 2</h2>
                <p style="font-size: 1.5rem;">
                    A particle has velocity \( \vec{v}(t) = \langle \cos t, \sin t \rangle \) and starts at origin.
                </p>
                <p style="font-size: 1.35rem; margin-top: 1rem;">Find position \( \vec{r}(t) \).</p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( x(t) = \int_0^t \cos s \, ds = \sin t \)
                </div>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( y(t) = \int_0^t \sin s \, ds = 1 - \cos t \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1rem;">
                    \( \vec{r}(t) = \langle \sin t, 1 - \cos t \rangle \) — a circle!
                </p>
            </div>
        </div>

        <!-- Speed Analysis -->
        <div class="slide slide-content" data-slide="13" data-title="Speed Analysis">
            <div class="slide-content">
                <h2>When is Speed Minimum/Maximum?</h2>
                <p style="font-size: 1.5rem;">
                    Speed \( s(t) = \sqrt{[x'(t)]^2 + [y'(t)]^2} \)
                </p>
                <p style="font-size: 1.5rem; margin-top: 1.5rem;">
                    <strong>Method:</strong> Find where \( \frac{d}{dt}[s^2] = 0 \)
                </p>
                <div class="formula-box" style="font-size: 1.5rem;">
                    \( \frac{d}{dt}[s^2] = 2x'x'' + 2y'y'' = 0 \)
                </div>
                <p style="font-size: 1.5rem; margin-top: 1rem; color: #64748b;">
                    This avoids dealing with the square root!
                </p>
            </div>
        </div>

        <!-- Practice 1 -->
        <div class="slide slide-exercise" data-slide="14" data-title="Practice 1">
            <div class="slide-content">
                <h2>Practice Problem 1</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    A particle moves with \( \vec{r}(t) = \langle 3\cos t, 2\sin t \rangle \).
                </p>
                <p style="font-size: 1.5rem;">
                    a) Find velocity and acceleration vectors.<br>
                    b) Find speed at \( t = 0 \) and \( t = \pi/2 \).<br>
                    c) Describe the path of motion.
                </p>
            </div>
        </div>

        <!-- Practice 2 -->
        <div class="slide slide-exercise" data-slide="15" data-title="Practice 2">
            <div class="slide-content">
                <h2>Practice Problem 2</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    A particle has velocity \( \vec{v}(t) = \langle 2t, e^t \rangle \) and starts at \( (1, 0) \).
                </p>
                <p style="font-size: 1.5rem;">
                    a) Find the position function \( \vec{r}(t) \).<br>
                    b) Find the total distance traveled from \( t = 0 \) to \( t = 1 \).
                </p>
            </div>
        </div>

        <!-- Practice 3 -->
        <div class="slide slide-exercise" data-slide="16" data-title="Practice 3">
            <div class="slide-content">
                <h2>Practice Problem 3</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    A particle moves with \( x(t) = t^2 \) and \( y(t) = t^3 \).
                </p>
                <p style="font-size: 1.5rem;">
                    At what time \( t > 0 \) is the particle's speed equal to 5?
                </p>
            </div>
        </div>

        <!-- Exit Ticket -->
        <div class="slide slide-statement" data-slide="17" data-title="Exit Ticket">
            <div class="slide-content">
                <h2>Exit Ticket</h2>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    1. How do you find velocity from position for vector functions?
                </p>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    2. What is the formula for speed?
                </p>
                <p style="font-size: 1.5rem;">
                    3. What is the difference between displacement and total distance?
                </p>
            </div>
        </div>

        <!-- Closing -->
        <div class="slide slide-title" data-slide="18" data-title="Closing">
            <div class="slide-content">
                <h2>Key Takeaways</h2>
                <p style="font-size: 1.5rem; text-align: left; max-width: 800px; margin: 0 auto;">
                    • Position: \( \vec{r}(t) = \langle x(t), y(t) \rangle \)<br><br>
                    • Velocity: \( \vec{v}(t) = \vec{r}'(t) \) (tangent to path)<br><br>
                    • Speed: \( |\vec{v}| = \sqrt{(x')^2 + (y')^2} \)<br><br>
                    • Acceleration: \( \vec{a}(t) = \vec{v}'(t) \)<br><br>
                    • Total distance: \( \int |\vec{v}| \, dt \)
                </p>
            </div>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Navigation -->
    <div class="nav-arrows">
        <button class="nav-arrow" id="prevBtn">←</button>
        <span class="slide-counter"><span id="currentSlide">1</span>/<span id="totalSlides">19</span></span>
        <button class="nav-arrow" id="nextBtn">→</button>
    </div>

    <script src="../shared/presentation.js"></script>
    <script>
        function drawMotionViz() {
            const container = document.getElementById('motion-viz');
            if (!container || container.querySelector('svg')) return;

            const width = 700;
            const height = 400;
            const margin = { top: 30, right: 30, bottom: 50, left: 60 };
            const innerWidth = width - margin.left - margin.right;
            const innerHeight = height - margin.top - margin.bottom;

            const svg = d3.select(container)
                .append('svg')
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMidYMid meet');

            const g = svg.append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const xScale = d3.scaleLinear().domain([-1, 5]).range([0, innerWidth]);
            const yScale = d3.scaleLinear().domain([-2, 3]).range([innerHeight, 0]);

            // Axes
            g.append('g')
                .attr('transform', `translate(0,${yScale(0)})`)
                .call(d3.axisBottom(xScale))
                .style('font-size', '1rem');

            g.append('g')
                .attr('transform', `translate(${xScale(0)},0)`)
                .call(d3.axisLeft(yScale))
                .style('font-size', '1rem');

            // Path: r(t) = <t^2, t^3 - 3t>
            const path = d3.line()
                .x(t => xScale(t * t))
                .y(t => yScale(t * t * t - 3 * t));

            const tVals = d3.range(-1.5, 2, 0.05);

            g.append('path')
                .datum(tVals)
                .attr('fill', 'none')
                .attr('stroke', '#0891b2')
                .attr('stroke-width', 3)
                .attr('d', path);

            // Point at t = 1
            const t0 = 1;
            const px = t0 * t0;
            const py = t0 * t0 * t0 - 3 * t0;
            const vx = 2 * t0;
            const vy = 3 * t0 * t0 - 3;

            // Position vector
            g.append('line')
                .attr('x1', xScale(0))
                .attr('y1', yScale(0))
                .attr('x2', xScale(px))
                .attr('y2', yScale(py))
                .attr('stroke', '#059669')
                .attr('stroke-width', 2)
                .attr('marker-end', 'url(#arrowhead-green)');

            // Velocity vector (scaled)
            const scale = 0.3;
            g.append('line')
                .attr('x1', xScale(px))
                .attr('y1', yScale(py))
                .attr('x2', xScale(px + vx * scale))
                .attr('y2', yScale(py + vy * scale))
                .attr('stroke', '#e11d48')
                .attr('stroke-width', 2)
                .attr('marker-end', 'url(#arrowhead-red)');

            // Point
            g.append('circle')
                .attr('cx', xScale(px))
                .attr('cy', yScale(py))
                .attr('r', 6)
                .attr('fill', '#0891b2');

            // Arrowhead definitions
            const defs = svg.append('defs');

            defs.append('marker')
                .attr('id', 'arrowhead-green')
                .attr('markerWidth', 10)
                .attr('markerHeight', 7)
                .attr('refX', 9)
                .attr('refY', 3.5)
                .attr('orient', 'auto')
                .append('polygon')
                .attr('points', '0 0, 10 3.5, 0 7')
                .attr('fill', '#059669');

            defs.append('marker')
                .attr('id', 'arrowhead-red')
                .attr('markerWidth', 10)
                .attr('markerHeight', 7)
                .attr('refX', 9)
                .attr('refY', 3.5)
                .attr('orient', 'auto')
                .append('polygon')
                .attr('points', '0 0, 10 3.5, 0 7')
                .attr('fill', '#e11d48');

            // Labels
            g.append('text')
                .attr('x', xScale(px/2) - 15)
                .attr('y', yScale(py/2))
                .attr('font-size', '1.25rem')
                .attr('fill', '#059669')
                .text('r⃗(t)');

            g.append('text')
                .attr('x', xScale(px + vx * scale / 2) + 10)
                .attr('y', yScale(py + vy * scale / 2))
                .attr('font-size', '1.25rem')
                .attr('fill', '#e11d48')
                .text('v⃗(t)');

            g.append('text')
                .attr('x', xScale(px) + 10)
                .attr('y', yScale(py) - 10)
                .attr('font-size', '1.25rem')
                .attr('fill', '#0891b2')
                .text('t = 1');
        }

        // Trigger visualization
        const originalGoToSlide = window.Presentation.goToSlide;
        window.Presentation.goToSlide = function(n) {
            originalGoToSlide(n);
            if (n === 7) setTimeout(drawMotionViz, 300);
        };
    </script>
</body>
</html>
